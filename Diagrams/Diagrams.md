# UML Диаграммы
1. [Диаграмма вариантов использования](#1)<br>
1.1 [Актёры](#1.1)<br>
1.2 [Варианты использования](#1.2)<br>
1.2.1 [Авторизация](#1.2.1)<br>
1.2.2 [Регистрация](#1.2.2)<br>
1.2.3 [Просмотр списка сотрудников](#1.2.3)<br>
1.2.4 [Просмотр информации о сотруднике](#1.2.4)<br>
1.2.5 [Импорт данных с удаленного источника](#1.2.5)<br>
1.2.6 [Экспорт данных на локальный источник](#1.2.6)<br>
1.2.7 [Экспорт данных на удаленный источник](#1.2.7)<br>
1.2.8 [Запрос на обновление личных данных](#1.2.8)<br>
1.2.9 [Добавление записи о сотруднике](#1.2.9)<br>
1.2.10 [Удаление записи о сотруднике](#1.2.10)<br>
1.2.11 [Редактирование записи о сотруднике](#1.2.11)<br>
1.2.12 [Отправление почтового сообщения](#1.2.12)<br>

2. [Диаграммы активности](#2)<br>
2.1 [Авторизация](#2.1)<br>
2.2 [Регистрация](#2.2)<br>
2.3 [Просмотр списка сотрудников](#2.3)<br>
2.4 [Просмотр информации о сотруднике](#2.4)<br>
2.5 [Импорт данных с удаленного источника](#2.5)<br>
2.6 [Экспорт данных на локальный источник](#2.6)<br>
2.7 [Экспорт данных на удаленный источник](#2.7)<br>
2.8 [Запрос на обновление личных данных](#2.8)<br>
2.9 [Добавление записи о сотруднике](#2.9)<br>
2.10 [Удаление записи о сотруднике](#2.10)<br>
2.11 [Редактирование записи о сотруднике](#2.11)<br>
2.12 [Отправление почтового сообщения](#2.12)<br>

3. [Диаграмма последовательности](#3)

<a name="1"/>

### 1. Диаграмма вариантов использования 
Диаграмма вариантов использования представляет собой следующую диаграмму:
![alt text](https://github.com/EfimSirotkin/SchoolStaffManager/blob/master/Diagrams/UseCaseDiagram/UseCaseDiagram.png)

<a name="1.1"/>

#### 1.1 Актёры
Актёр | Описание
--- | ---
Пользователь|Человек, авторизованный в системе как гость, использующий приложение для просмотра списка сотрудников, их личных данных. Функция экспорта данных на удаленный истоник недоступна.
Обслуживающий|Человек, зарегистрированный в системе, использующий приложение для заказа инструмента и прочей техники, просмотра списка сотрудников и их информации, возможна отправка запроса на обновление личных данных работником администрации.
Педагогический|Человек, зарегистрированный в системе, использующий приложение для заказа инвентаря и книг, может отправлять запросы в администрацию на обновление личных данных.
Административный|Человек, зарегистрированный в системе, использующий приложение для добавления записей о сотрудниках, их редактирования и удаления. Возможна отправка сообщений по электронной почте, а также экспорт данных на удаленный ресурс(*GDrive*).
Админ|Человек, обладающий всеми уровнями прав доступа к системе.

<a name="1.2"/>

#### 1.2 Варианты использования
Примечание: при указании повторения дествия, происходит повторение действия варианта использования, в котором оно возникло.

<a name="1.2.1"/>

##### 1.2.1 Авторизация
**Описание.** Вариант использования **"Авторизация"** позволяет посетителю авторизироваться в приложении.
Поток событий:
1. Посетитель нажимает клавишу "Авторизация" на панели инструментов.
2. Приложение переходит на страницу входа в систему.
3. Посетитель вводит "Логин" и "Пароль".
4. Посетитель нажимает клавишу "Вход".
5. Приложение проверяет соответствие введенных данных с базой данных. При неверных данных приложение выводит сообщение об ошбике, посетитель повторяет действия 3 и 4.  
6. Приложение направляет пользователя на главную страницу.
7. Конец.

<a name="1.2.2"/>

##### 1.2.2 Регистрация
**Описание.** Вариант использования **"Регистрация"** позволяет посетителю создать свою учетную запись в системе.
Поток событий:
1. Посетитель нажимает клавишу "Вход" на панели инструментов.
2. Приложение переходит на страницу входа в систему.
3. Посетитель нажимает клавишу "Зарегистрироваться".
4. Посетитель вводит "Логин", "Имя","Фамилия", "Пароль" и "Дата рождения".
5. Посетитель нажимает клавишу "Зарегистрироваться".
6. Приложение проверяет валидность и уникальность данных. При неверных данных приложение показывает сообщение об ошибке, далее посетитель повторяет дейстия 4 и 5.
7. Приложение добавляет нового пользователя в систему.
8. Приложение направляет пользователя на главную страницу.
9. Конец.

<a name="1.2.3"/>

##### 1.2.3 Просмотр списка сотрудников
**Описание.** Вариант использования **"Просмотр списка сотрудников"** позволяет пользователю просмотривать полный список сотрудников.
Поток событий:
1. Пользователь нажимает клавишу "Просмотреть список сотрудников" на главной странице приилоения.
2. Приложение проверяет наличие данных на локальной машине.
3. При отсутствии данных на локальной машине приложение загружает их через интернет.
4. При отсутствии подключения к интернету выводится сообщение об ошибке, после чего приложение переходит на главную страницу.
5. При успешной загрузке в окне просмотра выводится список всех сотрудников.
6. Конец.

<a name="1.2.4"/>

##### 1.2.4 Просмотр информации о сотруднике
**Описание.** Вариант использования **"Просмотр информации о сотруднике"** позволяет пользователю просматривать подробную информация о сотруднике.
Поток событий:
1. В главном окне приложения пользователь нажимает клавишу "Просмотреть список сотрудников".
3. В открывшемся окне пользователь вводит данные о сотруднике, производится поиск по базе.
4. Приложение проверяет наличие записи о сотруднике с указанными данными.
5. При отсутствии записи приложение выводит сообщение об ошибке, после чего открывается окно просмотра списка сотрудников.
6. При успешном поиске приложение выводит подробную информацию о сотруднике.
7. Конец.

<a name="1.2.5"/>

##### 1.2.5 Импорт данных с удаленного источника
**Описание.** Вариант использования **"Импорт данных с удаленного источника"** позволяет пользователю создать кошелек.
Поток событий:
1. Пользователь нажимает кнопку "Просмотр списка сотрудников" в главном окне приложения.
2. Приложение отображает окно просмотра.
3. Пользователь нажимает кнопку "Импортировать из GDrive".
4. Приложение проверяет подключение к интернету.
5. При отсутствии подключения выводится сообщение об ошибке, после чего приложение переходит на домашнюю страницу.
6. Происходит захват данных через *Google API*.
7. Приложение проверяет успешность иморта данных
7. При возникновении ошибки выводится соответствующее сообщение и приложение переходит на домашнюю страницу.
8. При успешном импорте выводится соответствующее сообщение.
8. Конец.

<a name="1.2.6"/>

##### 1.2.6 Экспорт данных на локальный источник
**Описание.** Вариант использования **"Экспорт данных на локальный источник"** позволяет пользователю производить экспорт данных на локальное хранилище.
Поток событий:
1. Пользователь нажимает кнопку "Просмотреть список сотрудников" на домашней странице.
2. Приложение переходит на страницу просмотра.
3. Пользователь нажимает кнопку "Экспорт в локальное хранилище".
4. Приложение создает Excel-файл и заполняет его данными.
5. При отсутствии ошибок приложение выводит сообщение об успешности экспорта.
6. Конец.

##### 1.2.7 Экспорт данных на удаленный источник
**Описание.** Вариант использования **"Экспорт данных на удаленный источник"** позволяет административному работнику экспортировать данные в **GDrive**.
Поток событий:  
1. Административный работник на домашней странице приложения нажимает кнопку "Просмотреть список сотрудников".  
2. Приложение открывает окно просмотра.  
3. Административный работник нажимает кнопку "Экспорт данных в GDrive".  
4. Приложение создает Excel-файл и инициализирует его данными.  
5. При успешности операции приложение проверяет наличие подключения к интернету.  
6. Если подключение удалость установить, приложеие отправляет файл Excel через Google API в GDrive.  
7. Приложение проверяет успешность отправления, выводится соответствующее сообщение на экран.  
8. Приложение возвращает управление на страницу просмотра списка сотрудников.  
9. Конец.  

<a name="1.2.8"/>

##### 1.2.8 Запрос на обновление личных данных
**Описание.** Вариант использования **"Запрос на обновление личных данных"** позволяет хозяйственному или педагогическому составу отправлять запросы в администрацию об обновлении их личных данных.
Поток событий:
1. Педагог или завхоз на главной странице приложения нажимают кнопку "Просмотр списка сотрудников".
2. Приложение переходит на окно просмотра.
3. Педагог или завхоз выполняют поиск своей записи в базе данных.
4. Педагог или завхоз редактируют поля, в которых необходимо обновление данных.
5. Приложение проверяет доступность подключения к интернету.
6. При наличии подключения приложение формирует сообщение. 
7. Приложение отправляет письмо на почту администрации через SMTP протокол.
8. При успешной отправке приложение выводит соответствующее сообщение на экран и возвращает управление на домашнюю страницу.
9. Конец

<a name="1.2.9"/>

##### 1.2.9 Добавление записи о сотруднике
**Описание.** Вариант использования **"Добавление записи о сотруднике"** позволяет административному работнику добавлять записи о сотрудниках.
Поток событий:  
1. Административный работник на главной странице приложения нажимает кнопку "Редактировать".
2. Приложение открывает окно редактирования.
3. Административный работник нажимает на кнопку "Добавить запись о сотруднике".
4. Приложение открывает форму для заполнения.
5. Административный работник заполняет личные и дополнтильные данные о сотруднике.
6. Приложение проверяте уникальность и валидность данных.
7. При успешном прохождении проверки добавляется запись о сотруднике в базу.
8. Конец.

##### 1.2.10 Удаление записи о сотруднике
**Описание.** Вариант использования **"Удаление записи о сотруднике"** позволяет административному работнику удалять запись о сотруднике.
Поток событий:  
1. Административный работник на главной странице приложения нажимает кнопку "Редактировать".
2. Приложение открывает окно редактирования.
3. Административный работник нажимает на кнопку "Удалить запись о сотруднике".
4. Административный работник вводит данные для поиска записей.
5. Приложение выполняет проверку на наличие записей.
6. При наличии запись удалется и выводится сообщение об успешном удалении.
7. Конец.

##### 1.2.11 Редактирование записи о сотруднике
**Описание.** Вариант использования **"Редактирование записи о сотруднике"** позволяет административному работнику редактировать запись о сотруднике.
Поток событий:  
1. Административный работник на главной странице приложения нажимает кнопку "Редактировать".
2. Приложение открывает окно редактирования.
3. Административный работник нажимает на кнопку "Редактировать запись о сотруднике".
4. Административный работник вводит данные для поиска записей.
5. Приложение выполняет проверку на наличие записей.
6. При наличии записи приложение открывает форму для редактирования.
7. Административный работник редактирует данные о сотруднике.
8. Приложение проверяет валидность и корректность введённых данных.
9. При успешной проверке приложение выводит соответствующее сообщение.
10. Конец.

##### 1.2.11 Отправление почтового сообщения
**Описание.** Вариант использования **"Отправление почтового сообщения"** позволяет административному работнику оповещать сотрудников о предстоящих мероприятиях.
Поток событий:    
1. Административный работник на главной странице приложения нажимает кнопку "Просмотреть список сотрудников".
2. Приложение открывает окно просмотра.
3. Административный работник нажимает на кнопку "Отправить сообщение".
4. Административный работник вводит данные для поиска записей.
5. Приложение выполняет проверку на наличие записей.
6. При наличии записи приложение извлекает адрес электоронной почты.
7. Приложение проверяет наличие подключения к интернету.
8. При его наличии административный работник составляет заголовок и основной текст сообщения.
9. Приложение отправляет сообщение по почте по протоколу *SMTP*.
10. При успешном отправлении выводится соответствующее сообщение.
11. Конец.
<a name="2"/>
### 2. Диаграммы активности

<a name="2.1"/> 

##### 2.1 Авторизация
При заполнении формы авторизации происходит вход в систему. При несовпадении данных выводится сообщение об ошибке.

![alt text](https://github.com/EfimSirotkin/SchoolStaffManager/blob/master/Diagrams/Activity%20Diagrams/Login.png)

<a name="2.2"/>

##### 2.2 Регистрация
При заполнении форм данных происходит их валидация. При неверных данных выводится сообщение об ошибке с требованием повторить действие, иначе происходит регистрация нового пользователя и переход на главную страницу.

![alt text](https://github.com/EfimSirotkin/SchoolStaffManager/blob/master/Diagrams/Activity%20Diagrams/Register.png)

<a name="2.3"/>

##### 2.3 Просмотр списка сотрудников
Пользователь просматривает список сотрудников после нажатия на кнопку "Просмотреть список сотрудников" на главном экране приложения.

![alt text](https://github.com/EfimSirotkin/SchoolStaffManager/blob/master/Diagrams/Activity%20Diagrams/ViewStaffList.png)
<a name="2.4"/>

##### 2.4 Просмотр информации о сотруднике
Пользователь просматривает детальную информацию о сотруднике.

![alt text](https://github.com/EfimSirotkin/SchoolStaffManager/blob/master/Diagrams/Activity%20Diagrams/ViewEmployeeInformation.png)

<a name="2.5"/>

##### 2.5 Импорт данных с удаленного источника
Импорт данных с *GDrive*. При отсутствии подключения к интернету выводится сообщение об ошибке. При неудачном импорте возврат на домашнюю страницу приложения.

![alt text](https://github.com/EfimSirotkin/SchoolStaffManager/blob/master/Diagrams/Activity%20Diagrams/ImportFromRemote.png)

<a name="2.6"/>

##### 2.6 Экспорт данных на локальный источник
Пользователь путем нажатия кнопки "Экспорт данных" инициирует создание *Excel*-файла, его инициализацию и сохранение на компьютере.

![alt text](https://github.com/EfimSirotkin/SchoolStaffManager/blob/master/Diagrams/Activity%20Diagrams/ExportDataToLocalSource.png)

<a name="2.7"/>

##### 2.7 Экспорт данных на удаленный источник
Административный работник при нажатии кнопки "Экспорт в GDrive" инициирует формирование *Excel*-файла и отправление его в хранилище *Gdrive*. При отсутствии подключения к интернету операция прекращается и приложение переходи на страницу просмотра.

![alt text](https://github.com/EfimSirotkin/SchoolStaffManager/blob/master/Diagrams/Activity%20Diagrams/ExportToGDrive.png)
<a name="2.8"/>

##### 2.8 Запрос на обновление личных данных
Хозяйственный или педагогический персонал отправляет сообщение администрации с запросом на обновление данных.

![alt text](https://github.com/EfimSirotkin/SchoolStaffManager/blob/master/Diagrams/Activity%20Diagrams/RequestForModification.png)

<a name="2.9"/>

##### 2.9 Добавление записи о сотруднике
Административный работник на странице редактирования может добавить запись о сотруднике, его личные и дополнительные сведения. Приложение проверяет валидность данных и создает новую запись.

![alt text](https://github.com/EfimSirotkin/SchoolStaffManager/blob/master/Diagrams/Activity%20Diagrams/AddEmployee.png)

<a name="2.10"/>

##### 2.10 Удаление записи о сотруднике
Административный работник на странице редактирования может удалить существующую запись. Приложение удаляет запись при ее присутствии.

![alt text](https://github.com/EfimSirotkin/SchoolStaffManager/blob/master/Diagrams/Activity%20Diagrams/DeleteEmployee.png)

<a name="2.11"/>

##### 2.11 Редактирование записи о сотруднике
Административный работник на странице редактирования может инициировать изменение данных записи о сотруднике в случае, если запись присутствует в базе. Иначе приложение информирует о наступлении ошибки и возвращает управление на страницу редактирования.

![alt text](https://github.com/EfimSirotkin/SchoolStaffManager/blob/master/Diagrams/Activity%20Diagrams/EditEmployee.png)

<a name="2.12"/>

##### 2.12 Отправление сообщений
Административный работник на странице просмотра может отправить сообщение сотрудникам. Работник составляет заголовок и основной текст сообщения, после чего приложение отправляет сообщение по почте через *SMTP*-протокол. Функция доступна только при наличии подключения к интернету.

![alt text](https://github.com/EfimSirotkin/SchoolStaffManager/blob/master/Diagrams/Activity%20Diagrams/SendNotification.png)

<a name="3"/>
### 3. Диаграммы последовательности ###

Диаграмма последовательности основных вариантов использования представлена ниже:

![alt text](https://github.com/EfimSirotkin/SchoolStaffManager/blob/master/Diagrams/Sequence%20Diagram/SequenceDiagram.png)
